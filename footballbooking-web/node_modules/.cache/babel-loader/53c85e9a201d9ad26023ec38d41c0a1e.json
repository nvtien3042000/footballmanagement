{"ast":null,"code":"var _jsxFileName = \"E:\\\\DA\\\\footballbooking\\\\footballbooking-web\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './profile.css';\nimport userApi from '../../api/userApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nProfile.propTypes = {};\n\nfunction Profile(props) {\n  _s();\n\n  function handleChangeName(e) {\n    const newInfor = infor;\n    const fullName = e.target.value;\n    setInfor({ ...newInfor,\n      fullName\n    });\n  }\n\n  function handleChangeEmail(e) {\n    console.log(\"a\");\n    const newInfor = infor;\n    const email = e.target.value;\n    setInfor({ ...newInfor,\n      email\n    });\n  }\n\n  function handlePasswordOld(e) {\n    const passwordN = password;\n    const passwordOld = e.target.value;\n    setPassword({ ...passwordN,\n      passwordOld\n    });\n  }\n\n  function handlePasswordNew(e) {\n    const passwordN = password;\n    const passwordNew = e.target.value;\n    setPassword({ ...passwordN,\n      passwordNew\n    });\n  }\n\n  function handlePasswordNewAgain(e) {\n    const passwordN = password;\n    const passwordNewAgain = e.target.value;\n    setPassword({ ...passwordN,\n      passwordNewAgain\n    });\n  }\n\n  function handleSubmitUpdate(e) {\n    e.preventDefault();\n\n    if ((infor === null || infor === void 0 ? void 0 : infor.userId) == undefined) {\n      return;\n    }\n\n    const checkPassword = async () => {\n      console.log(infor);\n      console.log(password);\n\n      if (password.passwordOld !== '' && password.passwordNew !== '') {\n        const response = await userApi.checkLogin({\n          \"phone\": infor.phone,\n          \"password\": password.passwordOld\n        });\n\n        if (response.success && password.passwordNew === password.passwordNewAgain) {\n          const inforNew = {\n            userId: infor.userId,\n            fullname: infor.fullName,\n            email: infor.email,\n            password: password.passwordNew\n          };\n          const result = await userApi.updateUser(inforNew);\n\n          if (result.success == true) {\n            const newInformation = infor;\n            setInfor({ ...newInformation,\n              fullName: infor.fullName,\n              email: infor.email\n            });\n            localStorage.setItem('infor', JSON.stringify({ ...newInformation,\n              fullName: infor.fullName,\n              email: infor.email\n            }));\n            localStorage.setItem('fullname', infor.fullName);\n          }\n        }\n      } else {\n        const inforNew = {\n          userId: infor.userId,\n          fullname: infor.fullName,\n          email: infor.email\n        };\n        const result = await userApi.updateUser(inforNew);\n\n        if (result.success == true) {\n          const newInformation = infor;\n          setInfor({ ...newInformation,\n            fullName: infor.fullName,\n            email: infor.email\n          });\n          localStorage.setItem('infor', JSON.stringify({ ...newInformation,\n            fullName: infor.fullName,\n            email: infor.email\n          }));\n          localStorage.setItem('fullname', infor.fullName);\n        }\n      }\n    };\n\n    checkPassword();\n  }\n\n  const [infor, setInfor] = useState(JSON.parse(localStorage.getItem(\"infor\")));\n  const [password, setPassword] = useState({\n    passwordOld: '',\n    passwordNew: '',\n    passwordNewAgain: ''\n  });\n  const [check, setCheck] = useState({\n    checkInfo: false,\n    checkPassword: false\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-10 mb-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column align-items-center text-center p-3 py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-circle mt-5\",\n            width: \"150px\",\n            src: \"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 97\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-weight-bold\",\n            style: {\n              marginTop: \"10px\"\n            },\n            children: infor === null || infor === void 0 ? void 0 : infor.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-8 col-sm-8 col-md-8 col-lg-8\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          method: \"POST\",\n          role: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"H\\u1ECD v\\xE0 T\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"fullname\",\n              name: \"fullname\",\n              placeholder: \"H\\u1ECD v\\xE0 t\\xEAn\",\n              value: infor === null || infor === void 0 ? void 0 : infor.fullName,\n              onChange: handleChangeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i/T\\xE0i kho\\u1EA3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"phone\",\n              name: \"phone\",\n              placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n              disabled: true,\n              value: infor === null || infor === void 0 ? void 0 : infor.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"email\",\n              name: \"email\",\n              placeholder: \"Email\",\n              value: infor === null || infor === void 0 ? void 0 : infor.email,\n              onChange: handleChangeEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"M\\u1EADt kh\\u1EA9u c\\u0169\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"passwordOld\",\n              name: \"passwordOld\",\n              placeholder: \"M\\u1EADt kh\\u1EA9u c\\u0169\",\n              value: password.passwordOld,\n              onChange: handlePasswordOld\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"passwordNew\",\n              name: \"passwordNew\",\n              placeholder: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n              value: password.passwordNew,\n              onChange: handlePasswordNew\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"\",\n              className: \"title-profile\",\n              children: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this), password.passwordNew !== password.passwordNewAgain && password.passwordNew !== \"\" && password.passwordNewAgain !== \"\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorPassword\",\n              children: \"(M\\u1EADt kh\\u1EA9u kh\\xF4ng h\\u1EE3p)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 152\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"passwordNewAgain\",\n              name: \"passwordNewAgain\",\n              placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n              value: password.passwordNewAgain,\n              onChange: handlePasswordNewAgain\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            hidden: true,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"userId\",\n              name: \"userId\",\n              placeholder: \"Input field\",\n              value: infor === null || infor === void 0 ? void 0 : infor.userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary btn-update-profile\",\n            onClick: handleSubmitUpdate,\n            children: \"C\\u1EADp Nh\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"uFnLBSXeDixxBNGf+Udqf4AxH0M=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["E:/DA/footballbooking/footballbooking-web/src/components/Profile/Profile.js"],"names":["React","useState","useEffect","PropTypes","userApi","Profile","propTypes","props","handleChangeName","e","newInfor","infor","fullName","target","value","setInfor","handleChangeEmail","console","log","email","handlePasswordOld","passwordN","password","passwordOld","setPassword","handlePasswordNew","passwordNew","handlePasswordNewAgain","passwordNewAgain","handleSubmitUpdate","preventDefault","userId","undefined","checkPassword","response","checkLogin","phone","success","inforNew","fullname","result","updateUser","newInformation","localStorage","setItem","JSON","stringify","parse","getItem","check","setCheck","checkInfo","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './profile.css'\r\nimport userApi from '../../api/userApi';\r\n\r\nProfile.propTypes = {\r\n\r\n};\r\n\r\nfunction Profile(props) {\r\n\r\n    function handleChangeName(e) {\r\n        const newInfor = infor\r\n        const fullName = e.target.value\r\n        setInfor({\r\n            ...newInfor,\r\n            fullName\r\n        })\r\n    }\r\n\r\n    function handleChangeEmail(e) {\r\n        console.log(\"a\")\r\n        const newInfor = infor\r\n        const email = e.target.value\r\n        setInfor({\r\n            ...newInfor,\r\n            email\r\n        })\r\n    }\r\n\r\n    function handlePasswordOld(e) {\r\n        const passwordN = password\r\n        const passwordOld = e.target.value\r\n        setPassword({\r\n            ...passwordN,\r\n            passwordOld\r\n        })\r\n    }\r\n\r\n    function handlePasswordNew(e) {\r\n        const passwordN = password\r\n        const passwordNew = e.target.value\r\n        setPassword({\r\n            ...passwordN,\r\n            passwordNew\r\n        })\r\n    }\r\n\r\n    function handlePasswordNewAgain(e) {\r\n        const passwordN = password\r\n        const passwordNewAgain = e.target.value\r\n\r\n        setPassword({\r\n            ...passwordN,\r\n            passwordNewAgain\r\n        })\r\n    }\r\n\r\n    function handleSubmitUpdate(e) {\r\n        e.preventDefault()\r\n        if (infor?.userId == undefined) {\r\n            return\r\n        }\r\n        const checkPassword = async () => {\r\n            console.log(infor)\r\n            console.log(password)\r\n            if (password.passwordOld !== '' && password.passwordNew !== '') {\r\n                const response = await userApi.checkLogin({ \"phone\": infor.phone, \"password\": password.passwordOld });\r\n                if (response.success && password.passwordNew === password.passwordNewAgain) {\r\n                    const inforNew = {\r\n                        userId: infor.userId,\r\n                        fullname: infor.fullName,\r\n                        email: infor.email,\r\n                        password: password.passwordNew\r\n                    }\r\n                    const result = await userApi.updateUser(inforNew)\r\n\r\n                    if (result.success == true) {\r\n                        const newInformation = infor\r\n                        setInfor({\r\n                            ...newInformation,\r\n                            fullName: infor.fullName,\r\n                            email: infor.email,\r\n                        })\r\n                        localStorage.setItem('infor', JSON.stringify({\r\n                            ...newInformation,\r\n                            fullName: infor.fullName,\r\n                            email: infor.email,\r\n                        }));\r\n                        localStorage.setItem('fullname', infor.fullName)\r\n                    }\r\n                }\r\n            } else {\r\n                const inforNew = {\r\n                    userId: infor.userId,\r\n                    fullname: infor.fullName,\r\n                    email: infor.email,\r\n                }\r\n                const result = await userApi.updateUser(inforNew)\r\n                if (result.success == true) {\r\n                    const newInformation = infor\r\n                    setInfor({\r\n                        ...newInformation,\r\n                        fullName: infor.fullName,\r\n                        email: infor.email,\r\n                    })\r\n                    localStorage.setItem('infor', JSON.stringify({\r\n                        ...newInformation,\r\n                        fullName: infor.fullName,\r\n                        email: infor.email,\r\n                    }));\r\n                    localStorage.setItem('fullname', infor.fullName)\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n        checkPassword()\r\n    }\r\n\r\n\r\n    const [infor, setInfor] = useState(JSON.parse(localStorage.getItem(\"infor\")))\r\n    const [password, setPassword] = useState({\r\n        passwordOld: '',\r\n        passwordNew: '',\r\n        passwordNewAgain: ''\r\n    })\r\n    const [check, setCheck] = useState({\r\n        checkInfo: false,\r\n        checkPassword: false\r\n    })\r\n    return (\r\n\r\n        <div className=\"container mt-10 mb-10\">\r\n\r\n            <div className=\"row\">\r\n\r\n                <div className=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">\r\n                    <div className=\"d-flex flex-column align-items-center text-center p-3 py-5\"><img className=\"rounded-circle mt-5\" width=\"150px\" src=\"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg\" />\r\n                        <div className=\"font-weight-bold\" style={{ marginTop: \"10px\" }}>{infor?.fullName}</div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\">\r\n\r\n                    <form action=\"\" method=\"POST\" role=\"form\">\r\n                        <legend>Thông tin người dùng</legend>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Họ và Tên</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"fullname\" name='fullname' placeholder=\"Họ và tên\" value={infor?.fullName} onChange={handleChangeName} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Số điện thoại/Tài khoản</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"phone\" name='phone' placeholder=\"Số điện thoại\" disabled value={infor?.phone} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Email</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"email\" name='email' placeholder=\"Email\" value={infor?.email} onChange={handleChangeEmail} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Mật khẩu cũ</label>\r\n                            <input type=\"password\" className=\"form-control\" id=\"passwordOld\"\r\n                                name='passwordOld'\r\n                                placeholder=\"Mật khẩu cũ\"\r\n                                value={password.passwordOld}\r\n                                onChange={handlePasswordOld}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Nhập mật khẩu mới</label>\r\n                            <input type=\"password\" className=\"form-control\" id=\"passwordNew\"\r\n                                name='passwordNew'\r\n                                placeholder=\"Mật khẩu mới\"\r\n                                value={password.passwordNew}\r\n                                onChange={handlePasswordNew} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"\" className='title-profile'>Nhập lại mật khẩu mới</label>\r\n                            {(password.passwordNew !== password.passwordNewAgain && password.passwordNew !== \"\" && password.passwordNewAgain !== \"\") ? <span className='errorPassword'>(Mật khẩu không hợp)</span> : \"\"}\r\n                            <input type=\"password\" className=\"form-control\" id=\"passwordNewAgain\"\r\n                                name='passwordNewAgain'\r\n                                placeholder=\"Nhập lại mật khẩu mới\"\r\n                                value={password.passwordNewAgain}\r\n                                onChange={handlePasswordNewAgain} />\r\n                        </div>\r\n\r\n\r\n                        <div className=\"form-group\" hidden>\r\n                            <input type=\"text\" className=\"form-control\" id=\"userId\" name='userId' placeholder=\"Input field\" value={infor?.userId} />\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <button type=\"submit\" className=\"btn btn-primary btn-update-profile\" onClick={handleSubmitUpdate}>Cập Nhật</button>\r\n                    </form>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}