{"ast":null,"code":"var _jsxFileName = \"E:\\\\DA\\\\footballbooking\\\\footballbooking-web\\\\src\\\\pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Login from \"../components/Login/Login\";\nimport userApi from \"../api/userApi\";\nimport axios from \"axios\";\nimport queryString, { stringify } from \"query-string\";\nimport { useNavigate } from \"react-router-dom\";\nimport AlertNotification from \"../components/AlertNotification/AlertNotification\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nLoginPage.propTypes = {};\n\nfunction LoginPage(props) {\n  _s();\n\n  const [input, setInput] = useState({});\n  const navigate = useNavigate();\n  const [check, setCheck] = useState(true);\n\n  function handleClickLogin(inputV) {\n    setInput({ ...inputV\n    });\n\n    const checkLogin = async () => {\n      console.log(JSON.stringify(inputV) + \"v\");\n\n      if (JSON.stringify(inputV) != \"{}\") {\n        var _response$data;\n\n        const response = await userApi.checkLogin(inputV);\n\n        if (((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.isAuthen) === true) {\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('role', response.data.role);\n          localStorage.setItem('fullname', response.data.fullName);\n          localStorage.setItem('infor', JSON.stringify(response.data));\n          setCheck(true);\n\n          if (response.data.role === \"ROLE_CUSTOMER\") {\n            navigate('/');\n          } else if (response.data.role === \"ROLE_PITCHOWNER\") {\n            navigate('/pitchowner/booking');\n          } else if (response.data.role === \"ROLE_ADMIN\") {\n            navigate('/list-user');\n          } else {\n            console.log(\"ERROR\");\n            setCheck(false);\n          }\n        }\n      }\n    };\n\n    checkLogin();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Login, {\n      check: check,\n      onClickLogin: handleClickLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginPage, \"MF9bhBLzjbtL5FsXm5s9F+GrFOY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["E:/DA/footballbooking/footballbooking-web/src/pages/LoginPage.js"],"names":["React","useEffect","useState","PropTypes","Login","userApi","axios","queryString","stringify","useNavigate","AlertNotification","LoginPage","propTypes","props","input","setInput","navigate","check","setCheck","handleClickLogin","inputV","checkLogin","console","log","JSON","response","data","isAuthen","localStorage","setItem","token","role","fullName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,IAAsBC,SAAtB,QAAuC,cAAvC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,iBAAP,MAA8B,mDAA9B;;AAEAC,SAAS,CAACC,SAAV,GAAsB,EAAtB;;AAEA,SAASD,SAAT,CAAmBE,KAAnB,EAA0B;AAAA;;AAEtB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMc,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,IAAD,CAAlC;;AAEA,WAASiB,gBAAT,CAA0BC,MAA1B,EAAkC;AAC9BL,IAAAA,QAAQ,CAAC,EACL,GAAGK;AADE,KAAD,CAAR;;AAGA,UAAMC,UAAU,GAAG,YAAY;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAAChB,SAAL,CAAeY,MAAf,IAAyB,GAArC;;AACA,UAAII,IAAI,CAAChB,SAAL,CAAeY,MAAf,KAA0B,IAA9B,EAAoC;AAAA;;AAChC,cAAMK,QAAQ,GAAG,MAAMpB,OAAO,CAACgB,UAAR,CAAmBD,MAAnB,CAAvB;;AACA,YAAI,mBAAAK,QAAQ,CAACC,IAAT,kEAAeC,QAAf,MAA4B,IAAhC,EAAsC;AAClCC,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACC,IAAT,CAAcI,KAA5C;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BJ,QAAQ,CAACC,IAAT,CAAcK,IAA3C;AACAH,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,QAAQ,CAACC,IAAT,CAAcM,QAA/C;AACAJ,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,IAAI,CAAChB,SAAL,CAAeiB,QAAQ,CAACC,IAAxB,CAA9B;AACAR,UAAAA,QAAQ,CAAC,IAAD,CAAR;;AACA,cAAIO,QAAQ,CAACC,IAAT,CAAcK,IAAd,KAAuB,eAA3B,EAA4C;AACxCf,YAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,WAFD,MAEO,IAAIS,QAAQ,CAACC,IAAT,CAAcK,IAAd,KAAuB,iBAA3B,EAA8C;AACjDf,YAAAA,QAAQ,CAAC,qBAAD,CAAR;AACH,WAFM,MAEA,IAAIS,QAAQ,CAACC,IAAT,CAAcK,IAAd,KAAuB,YAA3B,EAAyC;AAC5Cf,YAAAA,QAAQ,CAAC,YAAD,CAAR;AACH,WAFM,MAEA;AACHM,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAL,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;AACJ;AACJ;AACJ,KAtBD;;AAuBAG,IAAAA,UAAU;AAEb;;AACD,sBACI;AAAA,2BACI,QAAC,KAAD;AAAO,MAAA,KAAK,EAAEJ,KAAd;AAAqB,MAAA,YAAY,EAAEE;AAAnC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GAzCQR,S;UAGYF,W;;;KAHZE,S;AA2CT,eAAeA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Login from \"../components/Login/Login\";\r\nimport userApi from \"../api/userApi\";\r\nimport axios from \"axios\";\r\nimport queryString, { stringify } from \"query-string\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AlertNotification from \"../components/AlertNotification/AlertNotification\";\r\n\r\nLoginPage.propTypes = {};\r\n\r\nfunction LoginPage(props) {\r\n\r\n    const [input, setInput] = useState({})\r\n    const navigate = useNavigate()\r\n    const [check, setCheck] = useState(true)\r\n\r\n    function handleClickLogin(inputV) {\r\n        setInput({\r\n            ...inputV\r\n        })\r\n        const checkLogin = async () => {\r\n            console.log(JSON.stringify(inputV) + \"v\")\r\n            if (JSON.stringify(inputV) != \"{}\") {\r\n                const response = await userApi.checkLogin(inputV);\r\n                if (response.data?.isAuthen === true) {\r\n                    localStorage.setItem('token', response.data.token)\r\n                    localStorage.setItem('role', response.data.role)\r\n                    localStorage.setItem('fullname', response.data.fullName)\r\n                    localStorage.setItem('infor', JSON.stringify(response.data));\r\n                    setCheck(true)\r\n                    if (response.data.role === \"ROLE_CUSTOMER\") {\r\n                        navigate('/');\r\n                    } else if (response.data.role === \"ROLE_PITCHOWNER\") {\r\n                        navigate('/pitchowner/booking');\r\n                    } else if (response.data.role === \"ROLE_ADMIN\") {\r\n                        navigate('/list-user');\r\n                    } else {\r\n                        console.log(\"ERROR\")\r\n                        setCheck(false)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        checkLogin()\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <Login check={check} onClickLogin={handleClickLogin} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;\r\n"]},"metadata":{},"sourceType":"module"}