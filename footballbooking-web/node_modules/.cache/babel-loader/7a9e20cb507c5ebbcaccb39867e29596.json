{"ast":null,"code":"var _jsxFileName = \"E:\\\\DA\\\\footballbooking\\\\footballbooking-web\\\\src\\\\pages\\\\home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport pitchApi from '../api/pitchApi';\nimport Card from '../components/Card/Card';\nimport PropTypes from 'prop-types';\nimport Search from '../components/Search/Search';\nimport { Route, Routes } from 'react-router-dom';\nimport Pagination from '../components/Paganation/Pagination';\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nHome.propTypes = {\n  // pitchs: PropTypes.array,\n  // onPitchClick: PropTypes.func,\n  onPitchDetail: PropTypes.func\n};\nHome.defaultProps = {\n  // pitchs: [],\n  // onPitchClick: null,\n  onPitchDetail: null\n};\n\nfunction Home(props) {\n  _s();\n\n  const {\n    onPitchDetail\n  } = props;\n  const [pitchs, setPitchs] = useState([]);\n  const [filter, setFilter] = useState({\n    page: 1,\n    limit: 3\n  });\n\n  function handleFilterSubmit(formValues) {\n    const filterNew = filter;\n    const searhByNameOrAddress = formValues.searchTerm;\n    setFilter({ ...filterNew,\n      page: 1,\n      searhByNameOrAddress\n    });\n  }\n\n  function handlePitchClick(pitch) {\n    if (onPitchDetail) {\n      onPitchDetail(pitch.pitchId);\n      console.log(pitch.pitchId + \" :: \");\n    }\n\n    console.log(pitch.pitchId + \" : \");\n  }\n\n  function handleClickPrice(costMin, costMax) {\n    console.log(costMin + \" : \" + costMax);\n    const filterNew = filter;\n    setFilter({ ...filterNew,\n      costMin,\n      costMax\n    });\n  }\n\n  function handleClickPitch(pitchTypeId) {\n    const filterNew = filter;\n    setFilter({ ...filterNew,\n      pitchTypeId\n    });\n  }\n\n  function handleClickPagination(type) {\n    const filterNew = filter;\n    let page = filter.page;\n\n    if (type === 'next') {\n      if (pitchs.length === filter.limit) {\n        page = page + 1;\n      }\n    } else {\n      if (filter.page !== 1) {\n        page = filter.page - 1;\n      }\n    }\n\n    console.log(page);\n    setFilter({ ...filterNew,\n      page\n    });\n  }\n\n  useEffect(() => {\n    const fetchPitchsList = async () => {\n      const response = await pitchApi.getAll(filter);\n      setPitchs(response.data);\n    };\n\n    fetchPitchsList();\n  }, [filter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      pitchTypeId: filter === null || filter === void 0 ? void 0 : filter.pitchTypeId,\n      costMin: filter === null || filter === void 0 ? void 0 : filter.costMin,\n      onClickPitchType: handleClickPitch,\n      onClickPrice: handleClickPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mf-30 p-0\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        onFilterSubmit: handleFilterSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), pitchs.map(p => /*#__PURE__*/_jsxDEV(Card, {\n        pitch: p,\n        onPitchClick: handlePitchClick\n      }, p.pitchId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(Pagination, {\n        onClickPagination: handleClickPagination\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"CAylKRCY26hx62RORZL3v6hkipQ=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["E:/DA/footballbooking/footballbooking-web/src/pages/home.js"],"names":["React","useEffect","useState","pitchApi","Card","PropTypes","Search","Route","Routes","Pagination","Sidebar","Home","propTypes","onPitchDetail","func","defaultProps","props","pitchs","setPitchs","filter","setFilter","page","limit","handleFilterSubmit","formValues","filterNew","searhByNameOrAddress","searchTerm","handlePitchClick","pitch","pitchId","console","log","handleClickPrice","costMin","costMax","handleClickPitch","pitchTypeId","handleClickPagination","type","length","fetchPitchsList","response","getAll","data","map","p"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport pitchApi from '../api/pitchApi';\r\nimport Card from '../components/Card/Card';\r\nimport PropTypes from 'prop-types';\r\nimport Search from '../components/Search/Search';\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport Pagination from '../components/Paganation/Pagination';\r\nimport Sidebar from '../components/Sidebar/Sidebar';\r\n\r\nHome.propTypes = {\r\n    // pitchs: PropTypes.array,\r\n    // onPitchClick: PropTypes.func,\r\n    onPitchDetail: PropTypes.func,\r\n};\r\n\r\nHome.defaultProps = {\r\n    // pitchs: [],\r\n    // onPitchClick: null,\r\n    onPitchDetail: null\r\n}\r\n\r\nfunction Home(props) {\r\n\r\n    const { onPitchDetail } = props\r\n\r\n    const [pitchs, setPitchs] = useState([]);\r\n    const [filter, setFilter] = useState({\r\n        page: 1,\r\n        limit: 3\r\n    });\r\n\r\n    function handleFilterSubmit(formValues) {\r\n        const filterNew = filter\r\n        const searhByNameOrAddress = formValues.searchTerm\r\n        setFilter({\r\n            ...filterNew,\r\n            page: 1,\r\n            searhByNameOrAddress,\r\n        })\r\n    }\r\n\r\n    function handlePitchClick(pitch) {\r\n        if (onPitchDetail) {\r\n            onPitchDetail(pitch.pitchId)\r\n            console.log(pitch.pitchId + \" :: \")\r\n        }\r\n        console.log(pitch.pitchId + \" : \")\r\n    }\r\n\r\n    function handleClickPrice(costMin, costMax) {\r\n        console.log(costMin + \" : \" + costMax)\r\n        const filterNew = filter\r\n        setFilter({\r\n            ...filterNew,\r\n            costMin,\r\n            costMax\r\n        })\r\n    }\r\n\r\n    function handleClickPitch(pitchTypeId) {\r\n        const filterNew = filter\r\n        setFilter({\r\n            ...filterNew,\r\n            pitchTypeId\r\n        })\r\n    }\r\n\r\n    function handleClickPagination(type) {\r\n        const filterNew = filter\r\n        let page = filter.page\r\n        if (type === 'next') {\r\n            if (pitchs.length === filter.limit) {\r\n                page = page + 1\r\n            }\r\n        } else {\r\n            if (filter.page !== 1) {\r\n                page = filter.page - 1\r\n            }\r\n        }\r\n        console.log(page)\r\n        setFilter({\r\n            ...filterNew,\r\n            page\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPitchsList = async () => {\r\n            const response = await pitchApi.getAll(filter);\r\n            setPitchs(response.data)\r\n        }\r\n        fetchPitchsList();\r\n    }, [filter])\r\n    return (\r\n        <div className='main-container'>\r\n            <Sidebar pitchTypeId={filter?.pitchTypeId} costMin={filter?.costMin} onClickPitchType={handleClickPitch} onClickPrice={handleClickPrice} />\r\n            < div className=\"container mf-30 p-0\" >\r\n                <Search onFilterSubmit={handleFilterSubmit} />\r\n                {pitchs.map(p => (\r\n                    <Card key={p.pitchId} pitch={p} onPitchClick={handlePitchClick} />\r\n                ))}\r\n                <Pagination onClickPagination={handleClickPagination} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}