{"ast":null,"code":"var _jsxFileName = \"E:\\\\DA\\\\footballbooking\\\\footballbooking-web\\\\src\\\\components\\\\FormAddNewMiniPitch\\\\formAddNewMiniPitch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axiosClientPost from \"../../api/axiosClientPost\";\nimport \"../FormAddNewMiniPitch/formAddNewMiniPitch.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FormAddNewMiniPitch() {\n  _s();\n\n  const navigate = useNavigate();\n  const [pitchType, setPitchType] = useState([]);\n  const {\n    pitchId\n  } = useParams();\n\n  const getPitchTypes = async () => {\n    var data = new FormData();\n    var config = {\n      url: \"/pitchservice/pitchTypes\",\n      method: \"GET\",\n      data,\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n        ...data.getHeaders\n      }\n    };\n    axiosClientPost(config).then(response => {\n      setPitchType(response.data);\n    }).catch(() => {});\n  };\n\n  useEffect(() => {\n    getPitchTypes();\n  }, []);\n  const [pitchInfo, setPitchInfo] = useState({\n    pitchId: pitchId,\n    pitchType: 1,\n    quantity: 1\n  });\n  const [timeSlot, setTimeSlot] = useState([]);\n  const dayOfWeek = [{\n    value: 1,\n    dow: \"Thứ 2\"\n  }, {\n    value: 2,\n    dow: \"Thứ 3\"\n  }, {\n    value: 3,\n    dow: \"Thứ 4\"\n  }, {\n    value: 4,\n    dow: \"Thứ 5\"\n  }, {\n    value: 5,\n    dow: \"Thứ 6\"\n  }, {\n    value: 6,\n    dow: \"Thứ 7\"\n  }, {\n    value: 7,\n    dow: \"Chủ nhật\"\n  }];\n\n  const addRowTimeSlot = () => {\n    let newTimeSlot = timeSlot.concat({\n      startDOW: 1,\n      endDOW: 7,\n      startHour: \"05:00:00\",\n      endHour: \"21:00:00\",\n      cost: null\n    });\n    setTimeSlot(newTimeSlot);\n  };\n\n  const removeTimeSlot = timeSlotId => {\n    let newTimeSlot = [];\n\n    for (let i = 0; i < timeSlotId; i++) {\n      newTimeSlot.push(timeSlot[i]);\n    }\n\n    for (let i = timeSlotId + 1; i < timeSlot.length; i++) {\n      newTimeSlot.push(timeSlot[i]);\n    }\n\n    setTimeSlot(newTimeSlot);\n  };\n\n  const changeTimeSlot = (event, id) => {\n    let name = event.target.name;\n    let value = event.target.value;\n    let object = timeSlot[id];\n    let slot = { ...object,\n      [name]: value\n    };\n    let newTimeSlot = timeSlot.slice(0, id);\n    newTimeSlot = newTimeSlot.concat(slot);\n\n    if (id + 1 < timeSlot.length) {\n      newTimeSlot = newTimeSlot.concat(timeSlot.slice(id + 1));\n    }\n\n    setTimeSlot(newTimeSlot);\n  };\n\n  const changePitchInfo = event => {\n    setPitchInfo({ ...pitchInfo,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const createNewMiniPitch = () => {\n    var data = new FormData();\n    data.append(\"pitchId\", pitchInfo.pitchId);\n    data.append(\"pitchTypeId\", pitchInfo.pitchType);\n    data.append(\"quantity\", pitchInfo.quantity);\n    timeSlot.forEach(slot => {\n      data.append(\"startDOW\", slot.startDOW);\n      data.append(\"endDOW\", slot.endDOW);\n      data.append(\"startHour\", slot.startHour);\n      data.append(\"endHour\", slot.endHour);\n      data.append(\"cost\", slot.cost);\n    });\n    var config = {\n      url: \"/pitchservice/addNewMiniPitch\",\n      method: \"POST\",\n      data,\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n        ...data.getHeaders\n      }\n    };\n    axiosClientPost(config).then(() => {\n      alert(\"Tạo sân thành công\");\n      navigate(\"/pitchowner/pitchList\");\n    }).catch(() => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formNewMiniPitch container-form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"pitchType\",\n              children: \"Lo\\u1EA1i s\\xE2n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"pitchType\",\n              name: \"pitchType\",\n              value: pitchInfo.pitchType,\n              onChange: changePitchInfo,\n              children: pitchType.map((e, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: e.pitchTypeId,\n                  children: e.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 28\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"quantity\",\n              children: \"S\\u1ED1 l\\u01B0\\u1EE3ng s\\xE2n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              className: \"form-control\",\n              id: \"quantity\",\n              name: \"quantity\",\n              placeholder: \"S\\u1ED1 l\\u01B0\\u1EE3ng s\\xE2n...\",\n              value: pitchInfo.quantity,\n              onChange: changePitchInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row add-time-slot\",\n        onClick: addRowTimeSlot,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"glyphicon glyphicon-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Th\\xEAm khung gi\\u1EDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), timeSlot.map((e, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row timeSlot\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"startDOW\",\n              children: \"T\\u1EEB ng\\xE0y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"startDOW\",\n              className: \"form-control\",\n              name: \"startDOW\",\n              onChange: event => changeTimeSlot(event, index),\n              value: e.startDOW,\n              children: dayOfWeek.map((element, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: element.value,\n                  children: element.dow\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 30\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"endDOW\",\n              children: \"\\u0110\\u1EBFn ng\\xE0y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"endDOW\",\n              className: \"form-control\",\n              name: \"endDOW\",\n              onChange: event => changeTimeSlot(event, index),\n              value: e.endDOW,\n              children: dayOfWeek.map((element, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: element.value,\n                  children: element.dow\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 30\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"startHour\",\n              children: \"Gi\\u1EDD b\\u1EAFt \\u0111\\u1EA7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"startHour\",\n              type: \"time\",\n              className: \"form-control\",\n              name: \"startHour\",\n              onChange: event => changeTimeSlot(event, index),\n              value: e.startHour\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"endHour\",\n              children: \"Gi\\u1EDD k\\u1EBFt th\\xFAc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"endHour\",\n              type: \"time\",\n              className: \"form-control\",\n              name: \"endHour\",\n              onChange: event => changeTimeSlot(event, index),\n              value: e.endHour\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"cost\",\n              children: \"Gi\\xE1 s\\xE2n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"cost\",\n              type: \"number\",\n              className: \"form-control\",\n              name: \"cost\",\n              onChange: event => changeTimeSlot(event, index),\n              value: e.cost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => removeTimeSlot(index),\n            className: \"glyphicon glyphicon-remove btn-remove-time-slot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 20\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-success\",\n          onClick: createNewMiniPitch,\n          children: \"T\\u1EA1o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"reset\",\n          className: \"btn btn-primary\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-danger\",\n          children: \"Quay l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FormAddNewMiniPitch, \"RX9t5jrVUw1dG1Rqo7dJngSCrhw=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = FormAddNewMiniPitch;\nexport default FormAddNewMiniPitch;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormAddNewMiniPitch\");","map":{"version":3,"sources":["E:/DA/footballbooking/footballbooking-web/src/components/FormAddNewMiniPitch/formAddNewMiniPitch.js"],"names":["React","useState","useEffect","useNavigate","useParams","axiosClientPost","FormAddNewMiniPitch","navigate","pitchType","setPitchType","pitchId","getPitchTypes","data","FormData","config","url","method","headers","Authorization","localStorage","getItem","getHeaders","then","response","catch","pitchInfo","setPitchInfo","quantity","timeSlot","setTimeSlot","dayOfWeek","value","dow","addRowTimeSlot","newTimeSlot","concat","startDOW","endDOW","startHour","endHour","cost","removeTimeSlot","timeSlotId","i","push","length","changeTimeSlot","event","id","name","target","object","slot","slice","changePitchInfo","createNewMiniPitch","append","forEach","alert","map","e","index","pitchTypeId","element"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axiosClientPost from \"../../api/axiosClientPost\";\r\nimport \"../FormAddNewMiniPitch/formAddNewMiniPitch.css\";\r\nfunction FormAddNewMiniPitch() {\r\n  const navigate = useNavigate();\r\n  const [pitchType, setPitchType] = useState([]);\r\n  const { pitchId } = useParams();\r\n  const getPitchTypes = async () => {\r\n    var data = new FormData();\r\n    var config = {\r\n      url: \"/pitchservice/pitchTypes\",\r\n      method: \"GET\",\r\n      data,\r\n      headers: {\r\n        Authorization: localStorage.getItem(\"token\"),\r\n        ...data.getHeaders,\r\n      },\r\n    };\r\n\r\n    axiosClientPost(config)\r\n      .then((response) => {\r\n        setPitchType(response.data);\r\n      })\r\n      .catch(() => {\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getPitchTypes();\r\n  }, []);\r\n  const [pitchInfo, setPitchInfo] = useState({\r\n    pitchId: pitchId,\r\n    pitchType: 1,\r\n    quantity: 1\r\n  });\r\n  const [timeSlot, setTimeSlot] = useState([]);\r\n  const dayOfWeek = [\r\n    {\r\n      value: 1,\r\n      dow: \"Thứ 2\"\r\n    },\r\n    {\r\n      value: 2,\r\n      dow: \"Thứ 3\"\r\n    },\r\n    {\r\n      value: 3,\r\n      dow: \"Thứ 4\"\r\n    },\r\n    {\r\n\r\n      value: 4,\r\n      dow: \"Thứ 5\"\r\n    },\r\n    {\r\n      value: 5,\r\n      dow: \"Thứ 6\"\r\n    },\r\n    {\r\n      value: 6,\r\n      dow: \"Thứ 7\"\r\n    },\r\n    {\r\n      value: 7,\r\n      dow: \"Chủ nhật\"\r\n    },\r\n  ]\r\n  const addRowTimeSlot = () => {\r\n    let newTimeSlot = timeSlot.concat({\r\n      startDOW: 1,\r\n      endDOW: 7,\r\n      startHour: \"05:00:00\",\r\n      endHour: \"21:00:00\",\r\n      cost: null\r\n    });\r\n    setTimeSlot(newTimeSlot);\r\n  }\r\n\r\n  const removeTimeSlot = (timeSlotId) => {\r\n    let newTimeSlot = [];\r\n    for (let i = 0; i < timeSlotId; i++) {\r\n      newTimeSlot.push(timeSlot[i])\r\n    }\r\n    for (let i = timeSlotId + 1; i < timeSlot.length; i++) {\r\n      newTimeSlot.push(timeSlot[i])\r\n    }\r\n    setTimeSlot(newTimeSlot);\r\n  }\r\n\r\n  const changeTimeSlot = (event, id) => {\r\n    let name = event.target.name;\r\n    let value = event.target.value;\r\n    let object = timeSlot[id];\r\n    let slot = {\r\n      ...object,\r\n      [name]: value\r\n    };\r\n    let newTimeSlot = timeSlot.slice(0, id);\r\n    newTimeSlot = newTimeSlot.concat(slot);\r\n    if ((id + 1) < timeSlot.length) {\r\n      newTimeSlot = newTimeSlot.concat(timeSlot.slice(id + 1));\r\n    }\r\n    setTimeSlot(newTimeSlot);\r\n  }\r\n\r\n  const changePitchInfo = (event) => {\r\n    setPitchInfo({\r\n      ...pitchInfo,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n  const createNewMiniPitch = () => {\r\n    var data = new FormData();\r\n    data.append(\"pitchId\", pitchInfo.pitchId);\r\n    data.append(\"pitchTypeId\", pitchInfo.pitchType);\r\n    data.append(\"quantity\", pitchInfo.quantity);\r\n    timeSlot.forEach((slot) => {\r\n      data.append(\"startDOW\", slot.startDOW);\r\n      data.append(\"endDOW\", slot.endDOW);\r\n      data.append(\"startHour\", slot.startHour);\r\n      data.append(\"endHour\", slot.endHour);\r\n      data.append(\"cost\", slot.cost);\r\n    });\r\n    var config = {\r\n      url: \"/pitchservice/addNewMiniPitch\",\r\n      method: \"POST\",\r\n      data,\r\n      headers: {\r\n        Authorization: localStorage.getItem(\"token\"),\r\n        ...data.getHeaders,\r\n      },\r\n    };\r\n\r\n    axiosClientPost(config)\r\n      .then(() => {\r\n        alert(\"Tạo sân thành công\");\r\n        navigate(\"/pitchowner/pitchList\");\r\n      })\r\n      .catch(() => {\r\n      });\r\n  }\r\n  return (\r\n    <div className=\"formNewMiniPitch container-form\">\r\n      <form>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label for=\"pitchType\">Loại sân</label>\r\n              <select\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"pitchType\"\r\n                name=\"pitchType\"\r\n                value={pitchInfo.pitchType}\r\n                onChange={changePitchInfo}\r\n              >\r\n                {\r\n                  pitchType.map((e, index) => {\r\n                    return <option key={index} value={e.pitchTypeId}>{e.name}</option>\r\n                  })\r\n                }\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"form-group\">\r\n              <label for=\"quantity\">Số lượng sân</label>\r\n              <input\r\n                type=\"number\"\r\n                min={0}\r\n                className=\"form-control\"\r\n                id=\"quantity\"\r\n                name=\"quantity\"\r\n                placeholder=\"Số lượng sân...\"\r\n                value={pitchInfo.quantity}\r\n                onChange={changePitchInfo}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row add-time-slot\" onClick={addRowTimeSlot}>\r\n          <span className=\"glyphicon glyphicon-plus\" />\r\n          <p>Thêm khung giờ</p>\r\n        </div>\r\n        {\r\n          timeSlot.map((e, index) => {\r\n            return <div key={index} className=\"row timeSlot\">\r\n              <div className=\"col\">\r\n                <label for=\"startDOW\">Từ ngày</label>\r\n                <select\r\n                  id=\"startDOW\"\r\n                  className=\"form-control\"\r\n                  name=\"startDOW\"\r\n                  onChange={(event) => changeTimeSlot(event, index)}\r\n                  value={e.startDOW}\r\n                >\r\n                  {\r\n                    dayOfWeek.map((element, index) => {\r\n                      return <option key={index} value={element.value}>\r\n                        {element.dow}\r\n                      </option>\r\n                    })\r\n                  }\r\n                </select>\r\n              </div>\r\n              <div className=\"col\">\r\n                <label for=\"endDOW\">Đến ngày</label>\r\n                <select\r\n                  id=\"endDOW\"\r\n                  className=\"form-control\"\r\n                  name=\"endDOW\"\r\n                  onChange={(event) => changeTimeSlot(event, index)}\r\n                  value={e.endDOW}\r\n                >\r\n                  {\r\n                    dayOfWeek.map((element, index) => {\r\n                      return <option key={index} value={element.value}>\r\n                        {element.dow}\r\n                      </option>\r\n                    })\r\n                  }\r\n                </select>\r\n              </div>\r\n              <div className=\"col\">\r\n                <label for=\"startHour\">Giờ bắt đầu</label>\r\n                <input\r\n                  id=\"startHour\"\r\n                  type=\"time\"\r\n                  className=\"form-control\"\r\n                  name=\"startHour\"\r\n                  onChange={(event) => changeTimeSlot(event, index)}\r\n                  value={e.startHour}\r\n                />\r\n              </div>\r\n              <div className=\"col\">\r\n                <label for=\"endHour\">Giờ kết thúc</label>\r\n                <input\r\n                  id=\"endHour\"\r\n                  type=\"time\"\r\n                  className=\"form-control\"\r\n                  name=\"endHour\"\r\n                  onChange={(event) => changeTimeSlot(event, index)}\r\n                  value={e.endHour}\r\n                />\r\n              </div>\r\n              <div className=\"col\">\r\n                <label for=\"cost\">Giá sân</label>\r\n                <input\r\n                  id=\"cost\"\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  name=\"cost\"\r\n                  onChange={(event) => changeTimeSlot(event, index)}\r\n                  value={e.cost}\r\n                />\r\n              </div>\r\n              <span onClick={() => removeTimeSlot(index)} className=\"glyphicon glyphicon-remove btn-remove-time-slot\" />\r\n            </div>\r\n          })\r\n        }\r\n        <div>\r\n          <button type=\"button\" className=\"btn btn-success\" onClick={createNewMiniPitch}>\r\n            Tạo\r\n          </button>\r\n          <button type=\"reset\" className=\"btn btn-primary\">\r\n            Reset\r\n          </button>\r\n          <button type=\"button\" className=\"btn btn-danger\">\r\n            Quay lại\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormAddNewMiniPitch;\r\n"]},"metadata":{},"sourceType":"module"}